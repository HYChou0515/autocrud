# AutoCRUD Web App Makefile

# é»˜èªç›®æ¨™
.PHONY: help
help:
	@echo "AutoCRUD Web App é–‹ç™¼å·¥å…·"
	@echo ""
	@echo "é–‹ç™¼å·¥å…·ï¼š"
	@echo "  style        æ ¼å¼åŒ–ç¨‹å¼ç¢¼ä¸¦ä¿®å¾© lint å•é¡Œ (prettier + eslint --fix)"
	@echo "  check        æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ªï¼ˆä¸ä¿®æ”¹æª”æ¡ˆï¼‰"
	@echo "  format       æ ¼å¼åŒ–ç¨‹å¼ç¢¼ (prettier)"
	@echo "  lint         åŸ·è¡Œ lint æª¢æŸ¥ä¸¦è‡ªå‹•ä¿®å¾©"
	@echo "  lint-check   åŸ·è¡Œ lint æª¢æŸ¥ï¼ˆä¸ä¿®æ”¹æª”æ¡ˆï¼‰"
	@echo "  dev          å•Ÿå‹•é–‹ç™¼æœå‹™å™¨"
	@echo "  build        å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬"
	@echo "  preview      é è¦½ç”Ÿç”¢ç‰ˆæœ¬"
	@echo "  generate     é‡æ–°ç”Ÿæˆç¨‹å¼ç¢¼ï¼ˆéœ€è¦å¾Œç«¯ API é‹è¡Œï¼‰"
	@echo "  clean        æ¸…ç†æ§‹å»ºæ–‡ä»¶"

# === é–‹ç™¼å·¥å…· ===

# æ ¼å¼åŒ–ä¸¦ä¿®å¾© lint å•é¡Œ
.PHONY: style
style:
	@echo "ğŸ¨ æ ¼å¼åŒ–ç¨‹å¼ç¢¼..."
	@pnpm format
	@echo "ğŸ”§ ä¿®å¾© lint å•é¡Œ..."
	@pnpm lint:fix
	@echo "âœ… ç¨‹å¼ç¢¼æ ¼å¼åŒ–å®Œæˆ"

# æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ªï¼ˆä¸ä¿®æ”¹æª”æ¡ˆï¼‰
.PHONY: check
check:
	@echo "ğŸ” æª¢æŸ¥ç¨‹å¼ç¢¼æ ¼å¼..."
	@pnpm format:check
	@echo "ğŸ” æª¢æŸ¥ lint..."
	@pnpm lint
	@echo "âœ… ç¨‹å¼ç¢¼æª¢æŸ¥å®Œæˆ"

# æ ¼å¼åŒ–ç¨‹å¼ç¢¼
.PHONY: format
format:
	@echo "ğŸ¨ æ ¼å¼åŒ–ç¨‹å¼ç¢¼..."
	@pnpm format
	@echo "âœ… æ ¼å¼åŒ–å®Œæˆ"

# åŸ·è¡Œ lint ä¸¦è‡ªå‹•ä¿®å¾©
.PHONY: lint
lint:
	@echo "ğŸ”§ åŸ·è¡Œ lint ä¸¦è‡ªå‹•ä¿®å¾©..."
	@pnpm lint:fix
	@echo "âœ… Lint ä¿®å¾©å®Œæˆ"

# åŸ·è¡Œ lint æª¢æŸ¥ï¼ˆä¸ä¿®æ”¹æª”æ¡ˆï¼‰
.PHONY: lint-check
lint-check:
	@echo "ğŸ” æª¢æŸ¥ lint..."
	@pnpm lint
	@echo "âœ… Lint æª¢æŸ¥å®Œæˆ"

# === é–‹ç™¼æœå‹™å™¨ ===

# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
.PHONY: dev
dev:
	@echo "ğŸš€ å•Ÿå‹•é–‹ç™¼æœå‹™å™¨..."
	@pnpm dev

# === å»ºç½® ===

# å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
.PHONY: build
build:
	@echo "ğŸ“¦ å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬..."
	@pnpm build
	@echo "âœ… å»ºç½®å®Œæˆ"

# é è¦½ç”Ÿç”¢ç‰ˆæœ¬
.PHONY: preview
preview:
	@echo "ğŸ‘€ é è¦½ç”Ÿç”¢ç‰ˆæœ¬..."
	@pnpm preview

# === ç¨‹å¼ç¢¼ç”Ÿæˆ ===

# é‡æ–°ç”Ÿæˆç¨‹å¼ç¢¼
.PHONY: generate
generate:
	@echo "ğŸ”„ é‡æ–°ç”Ÿæˆç¨‹å¼ç¢¼..."
	@pnpm generate
	@echo "âœ… ç¨‹å¼ç¢¼ç”Ÿæˆå®Œæˆ"

# === æ¸…ç† ===

# æ¸…ç†æ§‹å»ºæ–‡ä»¶
.PHONY: clean
clean:
	@echo "ğŸ§¹ æ¸…ç†æ§‹å»ºæ–‡ä»¶..."
	@rm -rf dist
	@echo "âœ… æ¸…ç†å®Œæˆ"

# æ·±åº¦æ¸…ç†ï¼ˆåŒ…å« node_modulesï¼‰
.PHONY: clean-all
clean-all: clean
	@echo "ğŸ§¹ æ¸…ç† node_modules..."
	@rm -rf node_modules
	@echo "âœ… æ·±åº¦æ¸…ç†å®Œæˆ"
